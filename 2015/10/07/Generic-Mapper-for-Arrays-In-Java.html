<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Generic Mapper for Arrays In Java - Software is Artistic Science</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Generic Mapper for Arrays In Java">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Generic Mapper for Arrays In Java">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    
    <meta property="og:site_name" content="Software is Artistic Science" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Generic Mapper for Arrays In Java" />
    <meta property="og:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..." />
    <meta property="og:url" content="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    <meta property="article:published_time" content="2015-10-07T07:00:00.000Z" />
    <meta property="article:modified_time" content="2015-10-08T03:06:06.955Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Generic Mapper for Arrays In Java" />
    <meta name="twitter:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..." />
    <meta name="twitter:url" content="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Software is Artistic Science",
    "author": {
        "@type": "Person",
        "name": "Wesam Haboush",
        "image": "https://avatars.githubusercontent.com/u/1745580?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Generic Mapper for Arrays In Java",
    "url": "https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html",
    "datePublished": "2015-10-07T07:00:00.000Z",
    "dateModified": "2015-10-08T03:06:06.955Z",
    "description": "What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Software is Artistic Science" href="https://wesamhaboush.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">

</head>
<body class="post-template no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <h1 class="panel-cover__title panel-title"><a href="https://wesamhaboush.github.io" title="link to homepage for Software is Artistic Science">Software is Artistic Science</a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description"></p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="https://wesamhaboush.github.io/#blog" title="link to Software is Artistic Science blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
              
              
                  <!-- Github -->
                  <li class="navigation__item">
                    <a href="https://github.com/wesamhaboush" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
              
              
              
              
                  <!-- Email -->
                  <li class="navigation__item">
                    <a href="mailto:wesam.haboush@gmail.com" title="Email wesam.haboush@gmail.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="07 Oct 2015" class="post-meta__date date">07 Oct 2015</time> &#8226; <span class="post-meta__tags tags"></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/1745580?v=3" alt="profile image for Wesam Haboush" class="avatar post-meta__avatar" /> by Wesam Haboush</span>
      </div>
      <h1 class="post-title">Generic Mapper for Arrays In Java</h1>
    </header>

    <section class="post">
      <div class="sect2">
<h3 id="_what_is_a_mapper">What is a Mapper?</h3>
<div class="paragraph">
<p>In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.</p>
</div>
<div class="paragraph">
<p>In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain). For more on the subject, see <a href="http://en.wikipedia.org/wiki/Map_%28higher-order_function%29">Higher Order Functions on Wiki</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrays_lists_in_java">Arrays =~ Lists In Java</h3>
<div class="paragraph">
<p>In Java, arrays have list semantics, but they are not ‘List’s. They do not implement the List interface for example. Here, I present a mapper that will apply a function to all elements in an array, and return the array result.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_map_arrays">Why Map Arrays?</h3>
<div class="paragraph">
<p>It makes for a better code in terms of readability. It makes for a far more concise and terse coding structures. It also allows you to think more abstractly about what you are trying to apply on each element (without thinking about the loops), then at will decide to apply that to lists, arrays, sets, or whatever.</p>
</div>
<div class="paragraph">
<p>So, first, here is the mapper that does the deed. The class takes the output class and a single item mapper:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

import java.lang.reflect.Array;

public class ArrayMapper&lt;I,O&gt; implements Mapper&lt;I[], O[]&gt; {
    private final Mapper&lt;I, O&gt; itemMapper;
    private final Class oClass;

    public ArrayMapper(final Mapper&lt;I,O&gt; itemMapper, final Class oClass){
        this.itemMapper = itemMapper;
        this.oClass = oClass;
    }

    public O[] map(final I[] input) {
        O[] output = (O[]) Array.newInstance(oClass, input.length);
        for(int i = 0; i &lt; input.length; i++){
            output[i] = itemMapper.map(input[i]);
        }
        return output;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following code is a supporting interface. The <code>Mapper</code> implemented by both the single item mapper provided to the array mapper constructor above, and the generic array mapper itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

public interface Mapper&lt;I,O&gt; {
    O map(I i);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is also a test to show how you may use the mapper, and prove it works as expected. Note how the separation of concerns works. We defined the string to integer conversion/mapping as a separate code, then, we could apply it to an array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

import static org.junit.Assert.*;

import java.lang.reflect.Array;
import org.junit.Test;

public class ArrayMapperTest {

    @Test
    public void testMap() {
        //given
        final Mapper&lt;String, Integer&gt; string2Integer = new Mapper&lt;String, Integer&gt;() {
            public Integer map(String i) {
                return Integer.valueOf(i);
            }
        };

        final String[] strings = new String[]{"1", "2", "4", "66"};

        //when
        final Mapper&lt;String[], Integer[]&gt; am = new ArrayMapper&lt;String, Integer&gt;(string2Integer, Integer.class);

        //then
        final Integer[] result = am.map(strings);
        assertArrayEquals(new Integer[]{1, 2, 4, 66}, result);
        assertFalse(Array.newInstance(Integer.class, 0).equals(Array.newInstance(Integer.class, 0)));
        assertFalse(Array.newInstance(Integer.class, 1).equals(Array.newInstance(Integer.class, 1)));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As always, constructive feedback is always welcome.</p>
</div>
</div>
    </section>

  </article>

  
  <section class="post-comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'wesam.haboush'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </section>
  



            <footer class="footer">
                <span class="footer__copyright">&copy; 2015. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <script type="text/javascript" src="//wesamhaboush.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    

</body>
</html>
