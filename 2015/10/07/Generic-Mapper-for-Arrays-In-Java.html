<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Generic Mapper for Arrays In Java</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="//wesamhaboush.github.io/themes/ichi/favicon.ico">

    <script type="text/javascript" src="//wesamhaboush.github.io/themes/ichi/assets/js/vendor/fastclick.js?v=1.0.0"></script>
    <script type="text/javascript" src="//wesamhaboush.github.io/themes/ichi/assets/js/vendor/modernizr.js?v=1.0.0"></script>


    <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/ichi/assets/css/normalize.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/ichi/assets/css/foundation.min.css?v=1.0.0" />
    <!--[if lte IE 8]>
        <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/ichi/assets/css/outdatedBrowser.min.css?v=1.0.0">
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/ichi/assets/fonts/foundation-icons/foundation-icons.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//wesamhaboush.github.io/themes/ichi/assets/css/styles.css?v=1.0.0" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:300,700,400|Source+Sans+Pro:300,400,600,700,900,300italic,400italic,600italic,700italic,900italic" />

    <link rel="canonical" href="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    
    <meta property="og:site_name" content="Software is Artistic Science" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Generic Mapper for Arrays In Java" />
    <meta property="og:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..." />
    <meta property="og:url" content="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    <meta property="article:published_time" content="2015-10-07T07:00:00.000Z" />
    <meta property="article:modified_time" content="2015-10-08T18:54:12.164Z" />
    <meta property="article:tag" content="java" />
    <meta property="article:tag" content="functional programming" />
    <meta property="article:tag" content="arrays" />
    <meta property="article:tag" content="mappers" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Generic Mapper for Arrays In Java" />
    <meta name="twitter:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..." />
    <meta name="twitter:url" content="https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Software is Artistic Science",
    "author": {
        "@type": "Person",
        "name": "Wesam Haboush",
        "image": "https://avatars.githubusercontent.com/u/1745580?v=3",
        "url": "undefined/author/undefined",
        "sameAs": null
    },
    "headline": "Generic Mapper for Arrays In Java",
    "url": "https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html",
    "datePublished": "2015-10-07T07:00:00.000Z",
    "dateModified": "2015-10-08T18:54:12.164Z",
    "keywords": "java,  functional programming,  arrays,  mappers",
    "description": "What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1,..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="Software is Artistic Science" href="https://wesamhaboush.github.io/rss" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
</head>
<body class="post-template tag-java tag-functional-programming tag-arrays tag-mappers">

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdate" href="http://outdatedbrowser.com/">Update my browser now</a></p>
</div>

<nav class="top-bar hide-for-large-up" data-topbar >
  <ul class="title-area">
    <li class="name">

    </li>
    <li class="home"><a class="fi-home" href="https://wesamhaboush.github.io"></a></li>
    <li class="toggle-topbar"><a href="#" id="trigger-overlay" class="fi-list"></a></li>
  </ul>

<div class="overlay overlay-scale">
    <button type="button" class="overlay-close">Close</button>
    <nav>
        <ul>
            <li><a href="https://wesamhaboush.github.io">Home</a></li>
        </ul>
    </nav>
</div>

</nav>

<div class="row">

<div class="small-16 medium-16 large-4 columns right head-area" >

<header class="site-head">
    <div class="vertical">
        <div class="site-head-content inner">
            <ul class="side-nav blog-menu show-for-large-up">
                <li><a class="fi-home" href="https://wesamhaboush.github.io"></a></li>
                <li><a class="fi-torso" href="https://wesamhaboush.github.io/about"></a></li>
                <li><a class="fi-mail" href="https://wesamhaboush.github.io/contact"></a></li>
            </ul>
            
            <h1 class="blog-title">Software is Artistic Science</h1>
            <hr>
            <p class="blog-description"></p>
            <div class="blog-network">
<!--                 <a href="#" class="fi-social-pinterest"></a>
                <a href="#" class="fi-social-linkedin"></a>
                <a href="#" class="fi-social-behance"></a>
                <a href="#" class="fi-social-deviant-art"></a>
                <a href="#" class="fi-social-dribbble"></a>
                <a href="#" class="fi-social-flickr"></a>
                <a href="#" class="fi-social-github"></a>
                <a href="#" class="fi-social-skype"></a>
                <a href="#" class="fi-social-snapchat"></a>
                <a href="#" class="fi-social-steam"></a>
                <a href="#" class="fi-social-xbox"></a>
                <a href="#" class="fi-social-reddit"></a> -->
                  <a href="https://github.com/wesamhaboush" class="fi-social-github"></a>
            </div>
        </div>
    </div>
</header>

</div>


<div class="small-16 medium-16 large-12 columns main-column left">
    

<main class="content" role="main">

    <article class="post tag-java tag-functional-programming tag-arrays tag-mappers">


            <h1 class="post-title">Generic Mapper for Arrays In Java</h1>

            <span class="post-meta label"><time datetime="2015-10-07">07 Oct 2015</time></span>

            <section class="post-content">
                <div class="sect2">
<h3 id="_what_is_a_mapper">What is a Mapper?</h3>
<div class="paragraph">
<p>In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.</p>
</div>
<div class="paragraph">
<p>In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain). For more on the subject, see <a href="http://en.wikipedia.org/wiki/Map_%28higher-order_function%29">Higher Order Functions on Wiki</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrays_lists_in_java">Arrays =~ Lists In Java</h3>
<div class="paragraph">
<p>In Java, arrays have list semantics, but they are not ‘List’s. They do not implement the List interface for example. Here, I present a mapper that will apply a function to all elements in an array, and return the array result.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_map_arrays">Why Map Arrays?</h3>
<div class="paragraph">
<p>It makes for a better code in terms of readability. It makes for a far more concise and terse coding structures. It also allows you to think more abstractly about what you are trying to apply on each element (without thinking about the loops), then at will decide to apply that to lists, arrays, sets, or whatever.</p>
</div>
<div class="paragraph">
<p>So, first, here is the mapper that does the deed. The class takes the output class and a single item mapper:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

import java.lang.reflect.Array;

public class ArrayMapper&lt;I,O&gt; implements Mapper&lt;I[], O[]&gt; {
    private final Mapper&lt;I, O&gt; itemMapper;
    private final Class oClass;

    public ArrayMapper(final Mapper&lt;I,O&gt; itemMapper, final Class oClass){
        this.itemMapper = itemMapper;
        this.oClass = oClass;
    }

    public O[] map(final I[] input) {
        O[] output = (O[]) Array.newInstance(oClass, input.length);
        for(int i = 0; i &lt; input.length; i++){
            output[i] = itemMapper.map(input[i]);
        }
        return output;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following code is a supporting interface. The <code>Mapper</code> implemented by both the single item mapper provided to the array mapper constructor above, and the generic array mapper itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

public interface Mapper&lt;I,O&gt; {
    O map(I i);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is also a test to show how you may use the mapper, and prove it works as expected. Note how the separation of concerns works. We defined the string to integer conversion/mapping as a separate code, then, we could apply it to an array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">package uk.co.codebreeze.arraymapper;

import static org.junit.Assert.*;

import java.lang.reflect.Array;
import org.junit.Test;

public class ArrayMapperTest {

    @Test
    public void testMap() {
        //given
        final Mapper&lt;String, Integer&gt; string2Integer = new Mapper&lt;String, Integer&gt;() {
            public Integer map(String i) {
                return Integer.valueOf(i);
            }
        };

        final String[] strings = new String[]{"1", "2", "4", "66"};

        //when
        final Mapper&lt;String[], Integer[]&gt; am = new ArrayMapper&lt;String, Integer&gt;(string2Integer, Integer.class);

        //then
        final Integer[] result = am.map(strings);
        assertArrayEquals(new Integer[]{1, 2, 4, 66}, result);
        assertFalse(Array.newInstance(Integer.class, 0).equals(Array.newInstance(Integer.class, 0)));
        assertFalse(Array.newInstance(Integer.class, 1).equals(Array.newInstance(Integer.class, 1)));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As always, constructive feedback is always welcome.</p>
</div>
</div>
                        <aside class="tags fi-pricetag-multiple">Posted on <a href="https://wesamhaboush.github.io/tag/java">java</a>, <a href="https://wesamhaboush.github.io/tag/functional-programming"> functional programming</a>, <a href="https://wesamhaboush.github.io/tag/arrays"> arrays</a>, <a href="https://wesamhaboush.github.io/tag/mappers"> mappers</a></aside>
            </section>
            <hr>
            <footer class="post-footer">

                <section class="share">
                    <h4>Liked this post ? Share it.</h4>
                    <a class="fi-social-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html"
                        onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    </a>
                    <a class="fi-social-twitter" href="https://twitter.com/share?text=Generic%20Mapper%20for%20Arrays%20In%20Java&amp;url=https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html"
                        onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    </a>
                    <a class="fi-social-google-plus" href="https://plus.google.com/share?url=https://wesamhaboush.github.io/2015/10/07/Generic-Mapper-for-Arrays-In-Java.html"
                       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    </a>
                </section>

                <section class="author">
                    <header>
                        <span>About the author</span>
                    </header>
                    <section>
                        <h4>Wesam Haboush</h4>
                        <img src="https://avatars.githubusercontent.com/u/1745580?v=3">
                        
                        
                    </section>
                    <footer>
                         <p></p>
                    </footer>
                </section>

        <div class="clearfix"></div>
                    <hr>

            </footer>

        <h3 class="title-disqus"><span class="fi-comments"></span>Discussions</h3>




        <section class="post-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
          var disqus_shortname = 'wesam.haboush'; // required: replace example with your forum shortname
          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </section>


    </article>

</main>

</div>

</div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();      
      </script>

    <!--[if lte IE 8]>
        <script type="text/javascript" src="//wesamhaboush.github.io/themes/ichi/assets/js/outdatedBrowser.min.js?v=1.0.0"></script>
    <![endif]-->
    <script type="text/javascript" src="//wesamhaboush.github.io/themes/ichi/assets/js/min/built.js?v=1.0.0"></script>

    <script>
      $(document).foundation();
    </script>

</body>
</html>
