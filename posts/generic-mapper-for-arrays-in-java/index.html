<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8" />
<meta name="author" content="Wesam Haboush" />
<meta name="description" content="Personal blog." />
<meta name="keywords" content="blog, tech" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.40.3" />

<link rel="canonical" href="http://wesamhaboush.github.io/posts/generic-mapper-for-arrays-in-java/">
<base href="http://wesamhaboush.github.io/" />
<meta property="og:title" content="Generic Mapper for Arrays In Java" />
<meta property="og:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.
 In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://wesamhaboush.github.io/posts/generic-mapper-for-arrays-in-java/" />



<meta property="article:published_time" content="2015-10-07T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2015-10-07T00:00:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Generic Mapper for Arrays In Java"/>
<meta name="twitter:description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.
 In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain)."/>



<meta itemprop="name" content="Generic Mapper for Arrays In Java">
<meta itemprop="description" content="What is a Mapper? In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.
 In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain).">


<meta itemprop="datePublished" content="2015-10-07T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2015-10-07T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="460">



<meta itemprop="keywords" content="" />


<link rel="stylesheet" href="css/layout.css" />
<style type="text/css">
body {
  background-color: #101010;
  color: #dbdbdb;
}

a { color: #dbdbdb; }

pre {
  background: #1D1F21;
  border: 1px solid #dbdbdb;
  border-radius: 5px;
}

code {
  background: #1D1F21;
}

blockquote {
  background: #1D1F21;
  border-left: 3px solid #dbdbdb;
}

table {
  margin: 1em auto;
  border-collapse: collapse;
}

table, th, td {
  border: 1px solid #dbdbdb;
}

th {
  background: #dbdbdb;
  color: #101010;
}

.siteTitle a { color: #99cc66; }

.post .content h1{ color: #99cc66; }
.post .content h2{ color: #99cc66; }
.post .content h3{ color: #99cc66; }
.post .content h4{ color: #99cc66; }
.post .content h5{ color: #99cc66; }
.post .content h6{ color: #99cc66; }
.post .content a:hover { color: #99cc66; }
.social-link:hover { color: #99cc66; }
.nav-item-title:hover { color: #99cc66; }
.tag a:hover { color: #99cc66; }
.copyright { color: #404040 }
.poweredby { color: #404040 }
.poweredby a { color: #404040; }
.post-preview .title a{ color: #99cc66; }
.content-item a:hover{
  text-decoration: underline;
  color: #99cc66;
}
.post-list .title { color: #99cc66; }
.rmore { color: #99cc66; }
.terms .term a:hover {
  text-decoration: underline;
  color: #99cc66;
}

</style>



<title>


     Generic Mapper for Arrays In Java 

</title>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="http://wesamhaboush.github.io/">The Art Of Computer Science</a>
    </div> 

    
    
    <a class="nav-item" href="http://wesamhaboush.github.io/posts/"><div class="nav-item-title">Posts</div></a>
    
    <a class="nav-item" href="http://wesamhaboush.github.io/"><div class="nav-item-title">About Me</div></a>
    

  </nav>
</div>

  
<div class="social-links-header">

  
  <a href="mailto:wesam.haboush@outlook.com"><div class="social-link">email</div></a>
  

  
  <a href="https://github.com/wesamhaboush" target="_blank"><div class="social-link">gh</div></a>
  

  

  

  
  <a href="https://www.linkedin.com/in/wesam-haboush-10609b3b" target="_blank"><div class="social-link">in</div></a>
  

</div>


</header>


<article class="post">
    <h1 class="title"> Generic Mapper for Arrays In Java </h1>
    <div class="content"> <div class="sect1">
<h2 id="_what_is_a_mapper">What is a Mapper?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In functional programming, maps are used to apply a function to each element in a list and return the result list. For example, if you apply the function f(x) = x . x to the list [1, 2, 3], then you get the result list [1,4,9]. We will call a class that does this job in Java an Array or Collection Mapper.</p>
</div>
<div class="paragraph">
<p>In more general terms, functions in the mathematical sense are mappers because they map from one space (input space or domain) to another (output space or domain). For more on the subject, see <a href="http://en.wikipedia.org/wiki/Map_%28higher-order_function%29">Higher Order Functions on Wiki</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_arrays_lists_in_java">Arrays =~ Lists In Java</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Java, arrays have list semantics, but they are not ‘List’s. They do not implement the List interface for example. Here, I present a mapper that will apply a function to all elements in an array, and return the array result.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_map_arrays">Why Map Arrays?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It makes for a better code in terms of readability. It makes for a far more concise and terse coding structures. It also allows you to think more abstractly about what you are trying to apply on each element (without thinking about the loops), then at will decide to apply that to lists, arrays, sets, or whatever.</p>
</div>
<div class="paragraph">
<p>So, first, here is the mapper that does the deed. The class takes the output class and a single item mapper:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> uk.co.codebreeze.arraymapper<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.lang.reflect.Array<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ArrayMapper</span><span style="color:#f92672">&lt;</span>I<span style="color:#f92672">,</span>O<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> Mapper<span style="color:#f92672">&lt;</span>I<span style="color:#f92672">[],</span> O<span style="color:#f92672">[]&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Mapper<span style="color:#f92672">&lt;</span>I<span style="color:#f92672">,</span> O<span style="color:#f92672">&gt;</span> itemMapper<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Class oClass<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ArrayMapper</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> Mapper<span style="color:#f92672">&lt;</span>I<span style="color:#f92672">,</span>O<span style="color:#f92672">&gt;</span> itemMapper<span style="color:#f92672">,</span> <span style="color:#66d9ef">final</span> Class oClass<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">itemMapper</span> <span style="color:#f92672">=</span> itemMapper<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">oClass</span> <span style="color:#f92672">=</span> oClass<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> O<span style="color:#f92672">[]</span> <span style="color:#a6e22e">map</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> I<span style="color:#f92672">[]</span> input<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        O<span style="color:#f92672">[]</span> output <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>O<span style="color:#f92672">[])</span> Array<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>oClass<span style="color:#f92672">,</span> input<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> input<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++){</span>
            output<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> itemMapper<span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>input<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> output<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following code is a supporting interface. The <code>Mapper</code> implemented by both the single item mapper provided to the array mapper constructor above, and the generic array mapper itself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> uk.co.codebreeze.arraymapper<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Mapper</span><span style="color:#f92672">&lt;</span>I<span style="color:#f92672">,</span>O<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    O <span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>I i<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is also a test to show how you may use the mapper, and prove it works as expected. Note how the separation of concerns works. We defined the string to integer conversion/mapping as a separate code, then, we could apply it to an array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> uk.co.codebreeze.arraymapper<span style="color:#f92672">;</span>

<span style="color:#f92672">import static</span> org.junit.Assert.*<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.lang.reflect.Array<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.junit.Test<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ArrayMapperTest</span> <span style="color:#f92672">{</span>

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testMap</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">//given
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">final</span> Mapper<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> string2Integer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Mapper<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;()</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">public</span> Integer <span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>String i<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>i<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">};</span>

        <span style="color:#66d9ef">final</span> String<span style="color:#f92672">[]</span> strings <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[]{</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;4&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;66&#34;</span><span style="color:#f92672">};</span>

        <span style="color:#75715e">//when
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">final</span> Mapper<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">[],</span> Integer<span style="color:#f92672">[]&gt;</span> am <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayMapper<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;(</span>string2Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">//then
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">final</span> Integer<span style="color:#f92672">[]</span> result <span style="color:#f92672">=</span> am<span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>strings<span style="color:#f92672">);</span>
        assertArrayEquals<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Integer<span style="color:#f92672">[]{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 66<span style="color:#f92672">},</span> result<span style="color:#f92672">);</span>
        assertFalse<span style="color:#f92672">(</span>Array<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> 0<span style="color:#f92672">).</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>Array<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> 0<span style="color:#f92672">)));</span>
        assertFalse<span style="color:#f92672">(</span>Array<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> 1<span style="color:#f92672">).</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>Array<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> 1<span style="color:#f92672">)));</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div></code></pre>
</div>
</div>
<div class="paragraph">
<p>As always, constructive feedback is always welcome.</p>
</div>
</div>
</div>
 </div>
    <footer class="post-footer">

  <div class="post-footer-data">
    
<div class="tags">
    
</div>

    <div class="date"> Oct 7, 2015 </div>
  </div>

</footer>



</article>

  <footer>

  <div class="social-links-footer">

  
  <a href="mailto:wesam.haboush@outlook.com"><div class="social-link">Email</div></a>
  

  
  <a href="https://github.com/wesamhaboush" target="_blank"><div class="social-link">GitHub</div></a>
  

  

  

  
  <a href="https://www.linkedin.com/in/wesam-haboush-10609b3b" target="_blank"><div class="social-link">LinkedIn</div></a>
  

  <div class="social-link">
  <a href="http://wesamhaboush.github.io/index.xml" target="_blank">RSS</a>
  </div>

</div>


  <div class="copyright"> Copyright (c) 2018, all rights reserved. </div>

  <div class="poweredby">
    Powered by <a href="https://gohugo.io/">Hugo</a>.
  </div>

  </footer>

</div> 

</body>
</html>

